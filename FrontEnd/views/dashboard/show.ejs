<% pageTitle = doc.title %> <% layout('./layouts/boilerPlate') %> <%
customStyles ="/css/dashboard/show.css" %>

<!-- prettier-ignore -->
<%
  let badgeClass = 'bg-danger';
  let badgeText = 'No Quizzes Completed';

  if (doc.quizzesCompleted === 1) {
    badgeClass = 'bg-warning text-dark';
    badgeText = '1 Quiz Completed';
  } else if (doc.quizzesCompleted === 2) {
    badgeClass = 'bg-info text-dark';
    badgeText = '2 Quizzes Completed';
  } else if (doc.quizzesCompleted === 3) {
    badgeClass = 'bg-success';
    badgeText = 'All Quizzes Completed';
  }
%>

<div class="show-container">
  <div class="card-wrapper">
    <h2 class="title"><%= doc.title %></h2>
    <h4 class="course mb-2"><%= doc.courseName %></h4>

    <div class="mb-4">
      <span class="badge rounded-pill <%= badgeClass %> fs-6 px-3 py-2">
        <i class="bi bi-check-circle me-2"></i>
        <%= badgeText %>
      </span>
    </div>

    <hr class="my-4" />

    <div class="summary-section">
      <h5><i class="bi bi-journal-text me-2"></i> Summary</h5>
      <p><%= doc.summary %></p>
    </div>
    <hr class="my-4" />

    <div class="button-section">
      <a
        href="/user/<%= user._id %>/card/<%= doc._id %>/flashCards"
        class="main-button"
      >
        Flash Cards
      </a>
      <div class="quiz-buttons">
        <a
          href="/user/<%= user._id %>/card/<%= doc._id %>/quiz?level=easy"
          class="quiz-button easy"
        >
          Easy Quiz
        </a>
        <a
          href="/user/<%= user._id %>/card/<%= doc._id %>/quiz?level=medium"
          class="quiz-button medium"
        >
          Medium Quiz
        </a>
        <a
          href="/user/<%= user._id %>/card/<%= doc._id %>/quiz?level=hard"
          class="quiz-button hard"
        >
          Hard Quiz
        </a>
      </div>
    </div>
  </div>
</div>
